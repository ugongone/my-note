<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP vs CLI — コンテキスト消費の比較調査</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .gradient-text {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .code-snippet {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            background-color: #1e293b;
            border: 1px solid #334155;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            color: #e2e8f0;
        }
        .keyword { color: #818cf8; }
        .string { color: #f0abfc; }
        .comment { color: #94a3b8; }
        .property { color: #67e8f9; }
    </style>
</head>
<body class="antialiased selection:bg-blue-500 selection:text-white">

    <!-- Header -->
    <header class="border-b border-gray-200 bg-white/80 backdrop-blur-md sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center space-x-3">
                <i data-lucide="scale" class="w-6 h-6 text-blue-500"></i>
                <span class="text-lg font-bold tracking-tight">MCP vs CLI <span class="text-gray-400 font-normal">| コンテキスト消費比較</span></span>
            </div>
            <nav class="hidden md:flex space-x-6 text-sm font-medium text-gray-400">
                <a href="#conclusion" class="hover:text-blue-600 transition">結論</a>
                <a href="#mcp-cost" class="hover:text-blue-600 transition">MCPのコスト</a>
                <a href="#cli-advantage" class="hover:text-blue-600 transition">CLIの優位性</a>
                <a href="#tool-search" class="hover:text-blue-600 transition">Tool Search</a>
                <a href="#benchmark" class="hover:text-blue-600 transition">ベンチマーク</a>
                <a href="#mcp-fit" class="hover:text-blue-600 transition">MCPの適性</a>
                <a href="#guide" class="hover:text-blue-600 transition">使い分け</a>
            </nav>
        </div>
    </header>

    <!-- Hero -->
    <section class="py-8 text-center border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4">
            <div class="inline-flex items-center px-3 py-1 rounded-full bg-blue-50 border border-blue-200 text-blue-600 text-xs font-medium mb-4">
                <i data-lucide="search" class="w-3 h-3 mr-2"></i>
                Agent Teams 調査レポート
            </div>
            <h1 class="text-3xl md:text-4xl font-bold tracking-tight mb-3">
                <span class="gradient-text">MCP vs CLI — コンテキスト消費の真実</span>
            </h1>
            <p class="text-gray-500 text-sm md:text-base">「MCPよりCLIの方がコンテキストを消費しない」という噂の検証</p>
            <p class="text-gray-400 text-xs mt-2">本記事の情報は2026年2月16日時点のものです。Tool SearchやMCPプロトコルの進化により、状況は今後変わる可能性があります。</p>
        </div>
    </section>

    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- 結論 -->
        <section id="conclusion" class="py-10">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="check-circle" class="w-6 h-6 mr-3 text-blue-500"></i>結論
            </h2>
            <div class="bg-white rounded-2xl p-8 border border-gray-200 shadow-sm">
                <div class="bg-blue-50 rounded-lg p-6 border border-blue-200 mb-6">
                    <p class="text-blue-700 font-bold text-lg mb-2">「MCPよりCLIの方がコンテキストを消費しない」は概ね正しい</p>
                    <p class="text-blue-600 text-sm">ただし2026年1月にClaude Codeへ導入されたTool Search（必要なツール定義だけをオンデマンドで読み込む機能）により状況は大きく変化しており、現在は「ケースバイケース」が最も正確な答え。</p>
                </div>
                <div class="grid md:grid-cols-3 gap-4">
                    <div class="bg-emerald-50 border border-emerald-200 p-4 rounded-xl text-center">
                        <div class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i data-lucide="terminal" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">CLIの優位性</h3>
                        <p class="text-xs text-gray-500">ツール定義コスト0トークン。Anthropic公式も「最もコンテキスト効率が良い」と推奨</p>
                    </div>
                    <div class="bg-amber-50 border border-amber-100 p-4 rounded-xl text-center">
                        <div class="w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i data-lucide="plug" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">MCPの課題</h3>
                        <p class="text-xs text-gray-500">全ツール定義が毎リクエストに注入され、数万トークンを常時消費</p>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl text-center">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i data-lucide="sparkles" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">Claude CodeのTool Searchで改善</h3>
                        <p class="text-xs text-gray-500">2026年1月にClaude Codeへ導入。MCPツール定義をオンデマンド読み込みに切り替え、トークン消費を85〜95%削減</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- MCPがコンテキストを大量消費する仕組み -->
        <section id="mcp-cost" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="database" class="w-6 h-6 mr-3 text-blue-500"></i>MCPがコンテキストを大量消費する仕組み
            </h2>

            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <div class="p-4 bg-amber-50 border-b border-amber-100 flex justify-between items-center">
                    <h3 class="font-bold text-amber-700 flex items-center">
                        <i data-lucide="alert-triangle" class="w-5 h-5 mr-2"></i>
                        根本原因：全ツール定義の事前一括ロード
                    </h3>
                    <span class="text-xs bg-amber-100 text-amber-600 px-2 py-1 rounded font-medium">構造的問題</span>
                </div>
                <div class="p-6">
                    <p class="text-sm text-gray-600 mb-4">MCPサーバー接続時、<strong>全ツールの定義（名前・説明・パラメータスキーマ）がシステムプロンプトとして毎リクエストに注入</strong>されます。使わないツールも常にコンテキストに居座ります。</p>
                    <div class="flex items-center justify-center gap-3 mb-4 flex-wrap">
                        <div class="bg-gray-100 text-gray-600 px-4 py-2 rounded-lg text-sm font-medium">MCPサーバー接続</div>
                        <i data-lucide="arrow-right" class="w-4 h-4 text-gray-400"></i>
                        <div class="bg-amber-100 text-amber-600 px-4 py-2 rounded-lg text-sm font-medium">全ツール定義を取得</div>
                        <i data-lucide="arrow-right" class="w-4 h-4 text-gray-400"></i>
                        <div class="bg-red-50 text-red-500 px-4 py-2 rounded-lg text-sm font-medium">毎回のリクエストに注入</div>
                    </div>
                </div>
            </div>

            <!-- MCPサーバー別トークン消費テーブル -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <div class="p-4 bg-gray-50 border-b border-gray-200">
                    <h3 class="font-bold text-gray-700 flex items-center">
                        <i data-lucide="bar-chart-3" class="w-5 h-5 mr-2 text-blue-500"></i>
                        主要MCPサーバーの実測トークン消費量
                    </h3>
                </div>
                <table class="w-full text-sm">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="text-left px-6 py-4 font-bold text-gray-600">MCPサーバー</th>
                            <th class="text-center px-6 py-4 font-bold text-gray-600">ツール数</th>
                            <th class="text-right px-6 py-4 font-bold text-gray-600">トークン消費</th>
                            <th class="text-right px-6 py-4 font-bold text-gray-600">200kに対する割合</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr>
                            <td class="px-6 py-3 font-medium text-gray-800">MCP_DOCKER</td>
                            <td class="px-6 py-3 text-center text-gray-500">135</td>
                            <td class="px-6 py-3 text-right text-red-500 font-bold">~125,964</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-red-50 text-red-500 px-2 py-1 rounded">63.0%</span></td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 font-medium text-gray-800">GitHub MCP</td>
                            <td class="px-6 py-3 text-center text-gray-500">91</td>
                            <td class="px-6 py-3 text-right text-red-500 font-bold">~46,000〜68,000</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-red-50 text-red-500 px-2 py-1 rounded">23〜34%</span></td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 font-medium text-gray-800">Slack MCP</td>
                            <td class="px-6 py-3 text-center text-gray-500">11</td>
                            <td class="px-6 py-3 text-right text-amber-600 font-bold">~21,000</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-amber-50 text-amber-600 px-2 py-1 rounded">10.5%</span></td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 font-medium text-gray-800">Playwright</td>
                            <td class="px-6 py-3 text-center text-gray-500">21</td>
                            <td class="px-6 py-3 text-right text-amber-600 font-bold">~13,647</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-amber-50 text-amber-600 px-2 py-1 rounded">6.8%</span></td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 font-medium text-gray-800">AWS Cost Explorer</td>
                            <td class="px-6 py-3 text-center text-gray-500">7</td>
                            <td class="px-6 py-3 text-right text-gray-600 font-bold">~9,100</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">4.6%</span></td>
                        </tr>
                        <tr class="bg-gray-50">
                            <td class="px-6 py-3 font-medium text-gray-800">1ツールあたり平均 <span class="text-xs text-gray-400 font-normal">*</span></td>
                            <td class="px-6 py-3 text-center text-gray-500">—</td>
                            <td class="px-6 py-3 text-right text-gray-600 font-bold">550〜850</td>
                            <td class="px-6 py-3 text-right"><span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">—</span></td>
                        </tr>
                        <tr>
                            <td colspan="4" class="px-6 py-2 text-xs text-gray-400">* Anthropic公式ドキュメントによる一般的なツール定義の範囲。スキーマが複雑なサーバー（Slack等）では1ツールあたり1,000トークン超になるケースもある</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 実例：コンテキスト使用状況 -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                <div class="p-4 bg-red-50 border-b border-red-100 flex justify-between items-center">
                    <h3 class="font-bold text-red-600 flex items-center">
                        <i data-lucide="flame" class="w-5 h-5 mr-2"></i>
                        極端な実例：MCPツール定義だけで41%、全体で94%が消費
                    </h3>
                    <span class="text-xs bg-red-100 text-red-500 px-2 py-1 rounded font-medium">Scott Spence氏の実測</span>
                </div>
                <div class="p-6">
                    <p class="text-sm text-gray-600 mb-4">開発者のScott Spence氏が、複数のMCPサーバーを有効化した自身の環境でClaude Codeの <code class="text-xs bg-gray-100 px-1.5 py-0.5 rounded">/context</code> コマンドを実行したところ、会話を一言も交わす前にコンテキストウィンドウの大半がMCPツール定義で埋まっていることが判明しました。</p>
                    <div class="bg-gray-900 rounded-lg overflow-hidden text-xs font-mono mb-4">
                        <div class="flex items-center gap-1.5 px-3 py-2 bg-gray-800 border-b border-gray-700">
                            <div class="w-2.5 h-2.5 rounded-full bg-red-400"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-yellow-400"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-green-400"></div>
                            <span class="ml-2 text-gray-400 text-[10px]">/context 出力</span>
                        </div>
                        <div class="p-3 text-gray-300 leading-relaxed">
                            <div>claude-sonnet-4-5 • <span class="text-red-400">143k/200k tokens (72%)</span></div>
                            <div class="mt-2 space-y-1">
                                <div>System prompt: <span class="text-gray-400">3.1k tokens (1.5%)</span></div>
                                <div>System tools: <span class="text-gray-400">12.4k tokens (6.2%)</span></div>
                                <div>Reserved: <span class="text-amber-400">45.0k tokens (22.5%)</span></div>
                                <div>MCP tools: <span class="text-red-400 font-bold">82.0k tokens (41.0%)</span></div>
                                <div>Messages: <span class="text-gray-400">8 tokens (0.0%)</span></div>
                                <div>Free space: <span class="text-red-400 font-bold">12k (5.8%)</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4 text-sm text-gray-500">
                        <span class="font-bold text-gray-700">出典:</span> <a href="https://scottspence.com/posts/optimising-mcp-server-context-usage-in-claude-code" class="text-blue-500 hover:underline">scottspence.com</a>, <a href="https://github.com/anthropics/claude-code/issues/3036" class="text-blue-500 hover:underline">GitHub Issue #3036</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- CLIがコンテキスト効率で優れる理由 -->
        <section id="cli-advantage" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="terminal" class="w-6 h-6 mr-3 text-blue-500"></i>CLIがコンテキスト効率で優れる理由
            </h2>

            <div class="bg-white rounded-2xl p-8 border border-gray-200 shadow-sm mb-6">
                <div class="grid md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-emerald-50 border border-emerald-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="zap" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">定義コスト0</h3>
                        <p class="text-xs text-gray-500">CLIツール（gh, git, curl等）はBashツール1つの定義で全機能をカバー。MCPのように個別スキーマ不要</p>
                    </div>
                    <div class="bg-emerald-50 border border-emerald-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="brain" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">事前知識を活用</h3>
                        <p class="text-xs text-gray-500">フロンティアLLMはgh, git, docker等の使い方を訓練データから既知。--helpで動的に確認も可能</p>
                    </div>
                    <div class="bg-emerald-50 border border-emerald-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="sliders" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">出力サイズ制御</h3>
                        <p class="text-xs text-gray-500">| head -20 や --limit フラグで出力を制御可能。MCPの応答サイズは予測困難</p>
                    </div>
                </div>

                <!-- 比較テーブル -->
                <div class="overflow-hidden rounded-xl border border-gray-200">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="bg-gray-50 border-b border-gray-200">
                                <th class="text-left px-6 py-4 font-bold text-gray-600">観点</th>
                                <th class="text-center px-6 py-4 font-bold text-emerald-600">CLI（Bash経由）</th>
                                <th class="text-center px-6 py-4 font-bold text-amber-600">MCP</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">ツール定義コスト</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">0トークン追加</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-red-50 text-red-500 px-2 py-1 rounded">数千〜数万/サーバー</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">モデルの事前知識</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded">既知（gh, git等）</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-amber-50 text-amber-600 px-2 py-1 rounded">スキーマから学習</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">出力制御</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded">パイプ等で制御可</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-amber-50 text-amber-600 px-2 py-1 rounded">予測困難</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">Anthropic公式見解</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">最も効率的</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">CLIの補完</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 引用 -->
            <div class="flex items-center mb-4">
                <i data-lucide="message-circle" class="w-5 h-5 mr-2 text-blue-500"></i>
                <p class="text-sm text-gray-600">開発者コミュニティでも、MCPのコンテキストコストに対してCLIの効率性を支持する声が多く上がっています。</p>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white rounded-2xl p-6 border border-gray-200 shadow-sm">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3">
                            <i data-lucide="quote" class="w-4 h-4"></i>
                        </div>
                        <div>
                            <p class="font-bold text-sm text-gray-800">Geoffrey Huntley</p>
                            <p class="text-xs text-gray-400">Engineer（Amp/元Sourcegraph）</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 italic">"If your coding agent can run terminal commands and you give it access to GitHub's gh tool it gains all of that functionality for a token cost close to zero."</p>
                    <p class="text-sm text-gray-500 mt-2">（コーディングエージェントがターミナルコマンドを実行でき、GitHubの gh ツールへのアクセスを与えれば、トークンコストほぼゼロでその全機能を手に入れられる）</p>
                    <p class="text-xs text-gray-400 mt-2">Simon Willison氏（独立系開発者、Datasette作者）の<a href="https://simonwillison.net/2025/Aug/22/too-many-mcps/" class="text-blue-500 hover:underline">ブログ記事</a>で引用</p>
                </div>
                <div class="bg-white rounded-2xl p-6 border border-gray-200 shadow-sm">
                    <div class="flex items-center mb-3">
                        <div class="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3">
                            <i data-lucide="quote" class="w-4 h-4"></i>
                        </div>
                        <div>
                            <p class="font-bold text-sm text-gray-800">Mario Giancini</p>
                            <p class="text-xs text-gray-400">Developer</p>
                        </div>
                    </div>
                    <p class="text-sm text-gray-600 italic">"A 50-line TypeScript script in a tools/ directory that Claude invokes via Bash has zero context overhead until the moment it runs. An MCP server doing the same thing costs 4-10k tokens just sitting there."</p>
                    <p class="text-sm text-gray-500 mt-2">（tools/ ディレクトリに置いた50行のTypeScriptスクリプトをClaudeがBash経由で呼ぶ場合、実行するまでコンテキストのオーバーヘッドはゼロ。同じことをするMCPサーバーは、ただ存在するだけで4〜10kトークンを消費する）</p>
                    <p class="text-xs text-gray-400 mt-2"><a href="https://mariogiancini.com/the-hidden-cost-of-mcp-servers-and-when-theyre-worth-it" class="text-blue-500 hover:underline">mariogiancini.com</a></p>
                </div>
            </div>

            <!-- 具体的な比較例 -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mt-6">
                <div class="p-4 bg-blue-50 border-b border-blue-100 flex justify-between items-center">
                    <h3 class="font-bold text-blue-700 flex items-center">
                        <i data-lucide="git-compare" class="w-5 h-5 mr-2"></i>
                        具体例：GitHub操作 — gh CLI vs GitHub MCP
                    </h3>
                </div>
                <div class="p-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-bold text-emerald-600 mb-3 flex items-center"><i data-lucide="terminal" class="w-4 h-4 mr-2"></i>gh CLI</h4>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li class="flex items-start"><span class="text-emerald-400 mr-2">-</span>コンテキストコスト: <strong>0トークン追加</strong></li>
                                <li class="flex items-start"><span class="text-emerald-400 mr-2">-</span>Bashから直接呼び出し</li>
                                <li class="flex items-start"><span class="text-emerald-400 mr-2">-</span>セットアップ: gh auth login のみ</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-bold text-amber-600 mb-3 flex items-center"><i data-lucide="plug" class="w-4 h-4 mr-2"></i>GitHub MCP Server</h4>
                            <ul class="text-sm text-gray-600 space-y-2">
                                <li class="flex items-start"><span class="text-red-400 mr-2">-</span>コンテキストコスト: <strong>~46,000〜68,000トークン</strong></li>
                                <li class="flex items-start"><span class="text-red-400 mr-2">-</span>91ツール全定義をロード</li>
                                <li class="flex items-start"><span class="text-red-400 mr-2">-</span>MCP設定 + PAT設定が必要</li>
                            </ul>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4 text-sm text-gray-500 mt-4">
                        <span class="font-bold text-gray-700">LangSmithの比較:</span> MCP版 16,100トークン（常時ロード）vs CLI/Skill版 91トークン（起動時のみ）— <strong class="text-red-500">177倍</strong>の差
                        <p class="text-xs text-gray-400 mt-1">出典: <a href="https://dev.to/aviad_rozenhek_cba37e0660/langsmith-cli-why-lightweight-skills-crush-heavy-mcp-servers-context-is-all-you-need-1aeb" class="text-blue-500 hover:underline">dev.to - LangSmith CLI: Why Lightweight Skills Crush Heavy MCP Servers</a></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tool Searchによる改善 -->
        <section id="tool-search" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="sparkles" class="w-6 h-6 mr-3 text-blue-500"></i>Anthropicの対策：Claude CodeのTool Search機能（2026年1月〜）
            </h2>

            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <div class="p-4 bg-blue-50 border-b border-blue-100 flex justify-between items-center">
                    <h3 class="font-bold text-blue-700 flex items-center">
                        <i data-lucide="search" class="w-5 h-5 mr-2"></i>
                        仕組み：事前一括ロード → オンデマンド検索
                    </h3>
                    <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium">Claude Code v2.1.7+</span>
                </div>
                <div class="p-6">
                    <p class="text-sm text-gray-600 mb-4">従来は全ツール定義を事前にロードしていましたが、Tool Searchではタスクに応じて必要なツールだけを検索・取得する方式に変わりました。</p>
                    <!-- Before/After フロー -->
                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-red-50 rounded-xl p-4 border border-red-100">
                            <h4 class="font-bold text-red-600 mb-3 text-sm">Before（従来方式）</h4>
                            <div class="space-y-2 text-xs text-gray-600">
                                <div class="flex items-start"><span class="text-red-400 mr-2 font-bold">1.</span>全ツール定義を事前ロード</div>
                                <div class="flex items-start"><span class="text-red-400 mr-2 font-bold">2.</span>50+ツールで ~77,000トークン消費</div>
                                <div class="flex items-start"><span class="text-red-400 mr-2 font-bold">3.</span>使わないツールも常時メモリ占有</div>
                            </div>
                        </div>
                        <div class="bg-emerald-50 rounded-xl p-4 border border-emerald-200">
                            <h4 class="font-bold text-emerald-600 mb-3 text-sm">After（Tool Search）</h4>
                            <div class="space-y-2 text-xs text-gray-600">
                                <div class="flex items-start"><span class="text-emerald-400 mr-2 font-bold">1.</span>Tool Search Toolのみロード（~500トークン）</div>
                                <div class="flex items-start"><span class="text-emerald-400 mr-2 font-bold">2.</span>必要時に検索し3〜5ツールだけ取得</div>
                                <div class="flex items-start"><span class="text-emerald-400 mr-2 font-bold">3.</span>合計 ~8,700トークンで済む</div>
                            </div>
                        </div>
                    </div>

                    <!-- 数値テーブル -->
                    <div class="overflow-hidden rounded-xl border border-gray-200">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="bg-gray-50 border-b border-gray-200">
                                    <th class="text-left px-6 py-4 font-bold text-gray-600">指標</th>
                                    <th class="text-center px-6 py-4 font-bold text-red-500">従来方式</th>
                                    <th class="text-center px-6 py-4 font-bold text-emerald-600">Tool Search</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr>
                                    <td class="px-6 py-3 font-medium text-gray-700">50+ツール時の初期消費</td>
                                    <td class="px-6 py-3 text-center text-red-500 font-bold">~77,000トークン</td>
                                    <td class="px-6 py-3 text-center text-emerald-600 font-bold">~8,700トークン</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-3 font-medium text-gray-700">利用可能コンテキスト</td>
                                    <td class="px-6 py-3 text-center text-gray-500">~122,800トークン</td>
                                    <td class="px-6 py-3 text-center text-emerald-600 font-bold">~191,300トークン</td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-3 font-medium text-gray-700">削減率</td>
                                    <td class="px-6 py-3 text-center text-gray-400">—</td>
                                    <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">85〜95%</span></td>
                                </tr>
                                <tr>
                                    <td class="px-6 py-3 font-medium text-gray-700">自動起動条件</td>
                                    <td class="px-6 py-3 text-center text-gray-400">—</td>
                                    <td class="px-6 py-3 text-center text-gray-600">MCPがコンテキストの10%超</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Tool Searchが解消していないこと -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                <div class="p-4 bg-amber-50 border-b border-amber-100 flex justify-between items-center">
                    <h3 class="font-bold text-amber-700 flex items-center">
                        <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                        Tool Searchが解消していないこと
                    </h3>
                </div>
                <div class="p-6">
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-amber-50 border border-amber-100 rounded-xl p-4">
                            <h4 class="font-bold text-amber-700 text-sm mb-2 flex items-center">
                                <i data-lucide="file-output" class="w-4 h-4 mr-2"></i>実行結果の消費
                            </h4>
                            <p class="text-xs text-gray-600">ツール呼び出し後の返却データは依然としてコンテキストに入る。巨大なレスポンスを返すMCPサーバーの問題はそのまま</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 rounded-xl p-4">
                            <h4 class="font-bold text-amber-700 text-sm mb-2 flex items-center">
                                <i data-lucide="target" class="w-4 h-4 mr-2"></i>検索精度の限界
                            </h4>
                            <p class="text-xs text-gray-600">Opus 4で49%→74%に改善したが100%ではない。適切なツールを見つけられない場合がある</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 rounded-xl p-4">
                            <h4 class="font-bold text-amber-700 text-sm mb-2 flex items-center">
                                <i data-lucide="clock" class="w-4 h-4 mr-2"></i>検索のレイテンシ
                            </h4>
                            <p class="text-xs text-gray-600">ツール使用前に「検索する」ステップが1回挟まるため、わずかにレイテンシが増加</p>
                        </div>
                        <div class="bg-amber-50 border border-amber-100 rounded-xl p-4">
                            <h4 class="font-bold text-amber-700 text-sm mb-2 flex items-center">
                                <i data-lucide="terminal" class="w-4 h-4 mr-2"></i>定義コストに限ればCLIが優位
                            </h4>
                            <p class="text-xs text-gray-600">CLIのツール定義コストは元から0。Tool Searchで~8,700になっても定義コスト単体では追いつかない。ただしトータルコスト（セキュリティチェック含む）では逆転するケースもある</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ベンチマーク -->
        <section id="benchmark" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="flask-conical" class="w-6 h-6 mr-3 text-blue-500"></i>ベンチマーク結果
            </h2>

            <div class="bg-gray-50 rounded-lg p-4 text-sm text-gray-500 mb-6">
                <span class="font-bold text-gray-700">注:</span> ここまでの議論はツール定義のトークンコストが中心でしたが、実際の開発ではセキュリティチェックのオーバーヘッドや実行時間も含めたトータルコストが重要です。以下のベンチマークでは、理論上の優位性が実測値と一致するとは限らないことが示されています。
            </div>

            <!-- terminalcp ベンチマーク -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <div class="p-4 bg-blue-50 border-b border-blue-100 flex justify-between items-center">
                    <h3 class="font-bold text-blue-700 flex items-center">
                        <i data-lucide="test-tube-2" class="w-5 h-5 mr-2"></i>
                        terminalcp ベンチマーク（Mario Zechner氏）
                    </h3>
                    <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium">MCP版とCLI版の直接比較</span>
                </div>
                <div class="p-6">
                    <p class="text-sm text-gray-600 mb-4">Mario Zechner氏が自作ツール「terminalcp」のMCP版とCLI版を同一タスクで実行し、コスト・速度・成功率を直接比較した実験結果です。<span class="text-xs text-gray-400">（2025年8月実施、Tool Search導入前の環境）</span></p>
                    <table class="w-full text-sm mb-4">
                        <thead>
                            <tr class="bg-gray-50 border-b border-gray-200 rounded-t-lg">
                                <th class="text-left px-6 py-4 font-bold text-gray-600">指標</th>
                                <th class="text-center px-6 py-4 font-bold text-blue-600">MCP版</th>
                                <th class="text-center px-6 py-4 font-bold text-gray-600">CLI版</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">成功率</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded">100%</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded">100%</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">所要時間</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">51分（23%高速）</span></td>
                                <td class="px-6 py-3 text-center text-gray-500">66分</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">コスト</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">$19.45</span></td>
                                <td class="px-6 py-3 text-center text-gray-500">$19.95</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">Haikuトークン使用 <span class="text-xs text-gray-400 font-normal">**</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">35k</span></td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-red-50 text-red-500 px-2 py-1 rounded">1.3M〜2M</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="bg-gray-50 rounded-lg p-3 text-xs text-gray-500 mb-3">
                        ** Haikuトークンは、Claude Codeが内部でBashコマンドの安全性を検証する際に消費される軽量モデル（Haiku）のトークンです。ユーザーが直接支払うメインモデル（Sonnet/Opus）のトークンとは異なります。
                    </div>
                    <div class="bg-blue-50 rounded-lg p-4 text-sm text-blue-700">
                        <span class="font-bold">意外な発見:</span> MCPの方が23%速く安い。CLIはBash実行ごとにClaude Codeのセキュリティチェック（malicious command detection）が走るため、Haikuトークン消費が大きい。MCPはこれをバイパスする。
                    </div>
                    <p class="text-xs text-gray-400 mt-3">出典: <a href="https://mariozechner.at/posts/2025-08-15-mcp-vs-cli/" class="text-blue-500 hover:underline">mariozechner.at/posts/2025-08-15-mcp-vs-cli/</a></p>
                </div>
            </div>

            <!-- ブラウザ自動化ベンチマーク -->
            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
                <div class="p-4 bg-blue-50 border-b border-blue-100 flex justify-between items-center">
                    <h3 class="font-bold text-blue-700 flex items-center">
                        <i data-lucide="globe" class="w-5 h-5 mr-2"></i>
                        ブラウザ自動化ベンチマーク（bdg CLI vs MCP）
                    </h3>
                    <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded font-medium">トークン効率の比較</span>
                </div>
                <div class="p-6">
                    <p class="text-sm text-gray-600 mb-4">bdgはChrome DevTools Protocol（CDP）に直接アクセスするCLIツールで、MCPのアクセシビリティツリーベースのアプローチと比較して、より選択的なデータ取得が可能です。</p>
                    <table class="w-full text-sm mb-4">
                        <thead>
                            <tr class="bg-gray-50 border-b border-gray-200">
                                <th class="text-left px-6 py-4 font-bold text-gray-600">シナリオ</th>
                                <th class="text-center px-6 py-4 font-bold text-emerald-600">CLI (bdg)</th>
                                <th class="text-center px-6 py-4 font-bold text-amber-600">MCP</th>
                                <th class="text-center px-6 py-4 font-bold text-gray-600">効率比</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">Amazonページ解析</td>
                                <td class="px-6 py-3 text-center text-emerald-600 font-bold">~1,200</td>
                                <td class="px-6 py-3 text-center text-red-500 font-bold">~52,000</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">43倍</span></td>
                            </tr>
                            <tr>
                                <td class="px-6 py-3 font-medium text-gray-700">195項目ドロップダウン</td>
                                <td class="px-6 py-3 text-center text-emerald-600 font-bold">~50</td>
                                <td class="px-6 py-3 text-center text-red-500 font-bold">~5,000</td>
                                <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">100倍</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="text-xs text-gray-400">出典: <a href="https://gist.github.com/szymdzum/c3acad9ea58f2982548ef3a9b2cdccce" class="text-blue-500 hover:underline">GitHub Gist - szymdzum</a></p>
                </div>
            </div>
        </section>

        <!-- MCPが適しているケース -->
        <section id="mcp-fit" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="shield-check" class="w-6 h-6 mr-3 text-blue-500"></i>それでもMCPが適しているケース
            </h2>

            <div class="bg-white rounded-2xl p-8 border border-gray-200 shadow-sm">
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="database" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">ステートフルな操作</h3>
                        <p class="text-xs text-gray-500">ブラウザセッション（Playwright）、DB接続、デバッガなど。複数呼び出しで参照できるハンドルを提供。例: Playwright MCPでログイン後のセッションを維持しながら複数ページを操作するケースはCLIでは再現困難</p>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="braces" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">構造化された出力</h3>
                        <p class="text-xs text-gray-500">CLIの生テキストより構造化レスポンスが効率的なケース。例: Xcodeビルドの数千行の出力をMCPが{"errors": [...], "warnings": [...]}に変換し、コンテキスト消費を大幅削減</p>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="monitor" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">シェルアクセスなし</h3>
                        <p class="text-xs text-gray-500">Claude Desktop、Cursor等のGUIクライアントではCLIアプローチは使えない。MCPが唯一の選択肢</p>
                    </div>
                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-xl">
                        <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-3">
                            <i data-lucide="lock" class="w-5 h-5"></i>
                        </div>
                        <h3 class="font-bold text-gray-800 mb-1">セキュリティ制御</h3>
                        <p class="text-xs text-gray-500">各MCPサーバーが公開する内容を制限可能。CLIではコマンドのホワイトリストやサンドボックスが別途必要</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 使い分けフレームワーク -->
        <section id="guide" class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="compass" class="w-6 h-6 mr-3 text-blue-500"></i>使い分けフレームワーク
            </h2>

            <div class="bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden mb-6">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="text-left px-6 py-4 font-bold text-gray-600">条件</th>
                            <th class="text-center px-6 py-4 font-bold text-gray-600">推奨</th>
                            <th class="text-left px-6 py-4 font-bold text-gray-600">理由</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr>
                            <td class="px-6 py-3 text-gray-700">既存CLIがある（gh, aws, docker等）</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">CLI</span></td>
                            <td class="px-6 py-3 text-gray-500">定義コスト0、モデルが使い方を既知</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">LLMが使い方を知っているツール</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">CLI</span></td>
                            <td class="px-6 py-3 text-gray-500">スキーマ不要、--helpで動的学習可</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">単発・低頻度のタスク</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-emerald-50 text-emerald-600 px-2 py-1 rounded font-bold">CLI</span></td>
                            <td class="px-6 py-3 text-gray-500">常駐のオーバーヘッドを避ける</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">永続状態が必要（ブラウザ, DB）</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded font-bold">MCP</span></td>
                            <td class="px-6 py-3 text-gray-500">セッションの状態保持が容易</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">シェルアクセスのない環境</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded font-bold">MCP</span></td>
                            <td class="px-6 py-3 text-gray-500">CLIが使えない唯一の接続手段</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">CLIが存在しないサービス（Notion, Figma等）</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded font-bold">MCP</span></td>
                            <td class="px-6 py-3 text-gray-500">外部API接続の唯一の手段</td>
                        </tr>
                        <tr>
                            <td class="px-6 py-3 text-gray-700">多数のツールをTool Search有効で使用</td>
                            <td class="px-6 py-3 text-center"><span class="text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded font-bold">どちらも可</span></td>
                            <td class="px-6 py-3 text-gray-500">差は大幅に縮小済み</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Anthropic公式推奨 -->
            <div class="bg-white rounded-2xl p-6 border border-gray-200 shadow-sm">
                <div class="flex items-start">
                    <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-4 flex-shrink-0 mt-1">
                        <i data-lucide="bookmark" class="w-5 h-5"></i>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-2">Anthropic公式ベストプラクティス</h3>
                        <p class="text-sm text-gray-600 italic mb-3">"CLI tools are the most context-efficient way to interact with external services."</p>
                        <div class="space-y-2">
                            <div class="flex items-start text-sm text-gray-600 bg-blue-50 rounded-lg p-3">
                                <i data-lucide="arrow-right" class="w-4 h-4 mr-2 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span><strong>CLIツールを優先使用</strong> — GitHubなら gh CLI をインストール</span>
                            </div>
                            <div class="flex items-start text-sm text-gray-600 bg-blue-50 rounded-lg p-3">
                                <i data-lucide="arrow-right" class="w-4 h-4 mr-2 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span><strong>MCPはCLIでは対応できないケース</strong> — Notion, Figma, DB等</span>
                            </div>
                            <div class="flex items-start text-sm text-gray-600 bg-blue-50 rounded-lg p-3">
                                <i data-lucide="arrow-right" class="w-4 h-4 mr-2 text-blue-400 mt-0.5 flex-shrink-0"></i>
                                <span><strong>コンテキストは最も重要なリソース</strong> — 積極的に管理すべき</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 mt-3">出典: <a href="https://code.claude.com/docs/en/best-practices" class="text-blue-500 hover:underline">code.claude.com/docs/en/best-practices</a></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 総括 -->
        <section class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="flag" class="w-6 h-6 mr-3 text-blue-500"></i>総括
            </h2>
            <div class="bg-white rounded-2xl p-8 border border-gray-200 shadow-sm">
                <div class="space-y-4">
                    <div class="flex items-start text-sm text-gray-600 bg-gray-50 rounded-lg p-4">
                        <span class="font-bold text-blue-500 mr-3 text-lg">1</span>
                        <div>
                            <p class="font-bold text-gray-800">Tool Search以前（〜2025年）: CLIの優位性は圧倒的</p>
                            <p class="text-gray-500 mt-1">MCPはツール定義だけでコンテキストの20〜67%を消費。CLIは0トークン追加</p>
                        </div>
                    </div>
                    <div class="flex items-start text-sm text-gray-600 bg-gray-50 rounded-lg p-4">
                        <span class="font-bold text-blue-500 mr-3 text-lg">2</span>
                        <div>
                            <p class="font-bold text-gray-800">Tool Search以後（2026年〜）: 差は大幅に縮小</p>
                            <p class="text-gray-500 mt-1">MCPのコンテキストコストは85〜95%削減。ただし定義コスト単体ではCLIの「0トークン」に追いつかない</p>
                        </div>
                    </div>
                    <div class="flex items-start text-sm text-gray-600 bg-gray-50 rounded-lg p-4">
                        <span class="font-bold text-blue-500 mr-3 text-lg">3</span>
                        <div>
                            <p class="font-bold text-gray-800">ベンチマーク上はMCPの方が速いケースもある</p>
                            <p class="text-gray-500 mt-1">CLIはBash実行ごとのセキュリティチェックで追加コスト。MCPはバイパスするため高速</p>
                        </div>
                    </div>
                    <div class="flex items-start text-sm text-gray-600 bg-blue-50 rounded-lg p-4 border border-blue-200">
                        <span class="font-bold text-blue-500 mr-3 text-lg">4</span>
                        <div>
                            <p class="font-bold text-blue-700">最適解は「CLI優先 + 必要なMCPだけ有効化」のハイブリッド</p>
                            <p class="text-blue-600 mt-1">CLIで済むものはCLI、CLIでは不可能なものだけMCP。これがAnthropicの公式推奨</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ソース一覧 -->
        <section class="py-10 border-t border-gray-200">
            <h2 class="text-2xl font-bold mb-6 flex items-center">
                <i data-lucide="link" class="w-6 h-6 mr-3 text-blue-500"></i>主要ソース
            </h2>
            <div class="bg-white rounded-2xl p-6 border border-gray-200 shadow-sm">
                <div class="grid md:grid-cols-2 gap-4 text-xs">
                    <div class="space-y-2">
                        <p class="font-bold text-gray-700 text-sm mb-3">公式ドキュメント</p>
                        <a href="https://code.claude.com/docs/en/best-practices" class="block text-blue-500 hover:underline">Anthropic - Claude Code Best Practices</a>
                        <a href="https://www.anthropic.com/engineering/advanced-tool-use" class="block text-blue-500 hover:underline">Anthropic - Advanced Tool Use (Tool Search)</a>
                        <a href="https://www.anthropic.com/engineering/code-execution-with-mcp" class="block text-blue-500 hover:underline">Anthropic - Code Execution with MCP</a>
                        <a href="https://code.claude.com/docs/en/mcp" class="block text-blue-500 hover:underline">Anthropic - Connect Claude Code to tools via MCP</a>
                    </div>
                    <div class="space-y-2">
                        <p class="font-bold text-gray-700 text-sm mb-3">コミュニティ・ベンチマーク</p>
                        <a href="https://mariozechner.at/posts/2025-08-15-mcp-vs-cli/" class="block text-blue-500 hover:underline">Mario Zechner - MCP vs CLI: Benchmarking Tools</a>
                        <a href="https://simonwillison.net/2025/Aug/22/too-many-mcps/" class="block text-blue-500 hover:underline">Simon Willison - too many MCP servers</a>
                        <a href="https://ghuntley.com/allocations/" class="block text-blue-500 hover:underline">Geoffrey Huntley - MCP allocations</a>
                        <a href="https://scottspence.com/posts/optimising-mcp-server-context-usage-in-claude-code" class="block text-blue-500 hover:underline">Scott Spence - Optimising MCP Context Usage</a>
                        <a href="https://mariogiancini.com/the-hidden-cost-of-mcp-servers-and-when-theyre-worth-it" class="block text-blue-500 hover:underline">Mario Giancini - Hidden Cost of MCP Servers</a>
                        <a href="https://gist.github.com/szymdzum/c3acad9ea58f2982548ef3a9b2cdccce" class="block text-blue-500 hover:underline">szymdzum - MCP vs CLI Benchmark</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="py-10 bg-white border-t border-gray-200 text-center text-gray-400 text-sm">
        <p>MCP vs CLI コンテキスト消費比較 - Agent Teams 調査レポート</p>
        <p class="mt-1 text-xs text-gray-300">2026年2月16日作成 | Claude Code Agent Teams による並列調査</p>
    </footer>

    <script>lucide.createIcons();</script>
</body>
</html>